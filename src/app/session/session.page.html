<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Session</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="this.loading == false">
  <ion-card class="session-card">
    <div
      style="
        display: flex;
        justify-content: space-between;
        margin: 0;
        padding: 0;
      "
    >
      <ion-grid style="margin: 0; padding: 0">
        <ion-row class="extra-margin">
          <ion-col style="margin: 0; padding: 0">
            <span>{{this.session?.date}}</span>
          </ion-col>
        </ion-row>
        <ion-row class="extra-margin">
          <ion-col style="margin: 0; padding: 0">
            <span>Time: {{this.session.time}}</span>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>

    <div class="subjects-box" style="display: flex; align-items: center">
      Subjects:
      <div>
        <ion-chip
          *ngFor="let subject of this.session.subjects"
          class="slim-chip" [disabled]="true">
          {{subject.name}}
        </ion-chip>
      </div>
    </div>

    <div>Location: {{this.session.location}}</div>
  </ion-card>

  <h6 class="ion-text-center">There are {{this.session.attendance.length}} students in this session</h6>

  <div class="box">
    <h2>Tutor</h2>
    <ion-card
      class="slim-card"
      (click)="navigate(this.session.tutor.id)"
    >
      <div style="display: flex; align-items: center">
        <ion-avatar style="width: 35px; height: 35px; margin: 0 0.75rem">
          <img
            src="https://preview.keenthemes.com/metronic-v4/theme/assets/pages/media/profile/profile_user.jpg"
          />
        </ion-avatar>

        <h5>{{this.session.tutor.fullName}}</h5>
      </div>
    </ion-card>
  </div>

  <div class="box">
    <h2>Students</h2>
    <ion-card
      class="slim-card"
      *ngFor="let attendance of this.session.attendance"
      style="padding-left: 0.75rem; padding-right: 0.75rem"
    >
      <div style="margin-right: 0.75rem">
        <ion-checkbox checked="false" color="danger"></ion-checkbox>
      </div>
      <h5>{{attendance.student.fullName}}</h5>
    </ion-card>
  </div>

  <div class="box">
    <h2>Notes</h2>
    <ion-textarea
      rows="4"
      cols="20"
      placeholder="Enter any notes here..."
    ></ion-textarea>
    <div style="display: flex; justify-content: center">
      <ion-button color="success" (click)="handleNoteSubmit()">SAVE CHANGES</ion-button>
    </div>
  </div>
</ion-content>
